import tkinter as tk
from tkinter import messagebox


def caesar_cipher(text, shift, mode='encrypt'):
    result = ""
    if mode == 'decrypt':
        shift = -shift

    for char in text:
        if char.isalpha():
            base = ord('A') if char.isupper() else ord('a')
            result += chr((ord(char) - base + shift) % 26 + base)
        else:
            result += char
    return result



def encrypt_text():
    try:
        text = entry_message.get()
        shift = int(entry_shift.get())
        encrypted = caesar_cipher(text, shift, mode='encrypt')
        entry_result.config(state="normal")
        entry_result.delete(0, tk.END)
        entry_result.insert(0, encrypted)
        entry_result.config(state="readonly")
    except ValueError:
        messagebox.showerror("Invalid Input", "Shift value must be a number!")


def decrypt_text():
    try:
        text = entry_message.get()
        shift = int(entry_shift.get())
        decrypted = caesar_cipher(text, shift, mode='decrypt')
        entry_result.config(state="normal")
        entry_result.delete(0, tk.END)
        entry_result.insert(0, decrypted)
        entry_result.config(state="readonly")
    except ValueError:
        messagebox.showerror("Invalid Input", "Shift value must be a number!")


# ---------------- GUI ----------------
root = tk.Tk()
root.title("Caesar Cipher Tool")
root.geometry("400x250")
root.resizable(False, False)

# Message Input
label_message = tk.Label(root, text="Enter your message:")
label_message.pack(pady=5)
entry_message = tk.Entry(root, width=40)
entry_message.pack(pady=5)

# Shift Input
label_shift = tk.Label(root, text="Shift value:")
label_shift.pack(pady=5)
entry_shift = tk.Entry(root, width=10)
entry_shift.pack(pady=5)

# Buttons
frame_buttons = tk.Frame(root)
frame_buttons.pack(pady=10)

btn_encrypt = tk.Button(frame_buttons, text="Encrypt", width=12, command=encrypt_text)
btn_encrypt.grid(row=0, column=0, padx=5)

btn_decrypt = tk.Button(frame_buttons, text="Decrypt", width=12, command=decrypt_text)
btn_decrypt.grid(row=0, column=1, padx=5)

# Result (Copyable Entry Box)
label_result = tk.Label(root, text="Result:", font=("Arial", 12))
label_result.pack(pady=5)

entry_result = tk.Entry(root, width=50, state="readonly", font=("Arial", 11))
entry_result.pack(pady=5)

root.mainloop()
